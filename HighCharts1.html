<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <div id="chart1"></div>
  </body>


  <script src="_js/highcharts.src.js"></script>

  <script>
    function promiseAjax(url, parseJson) {
      return new Promise(function(resolve, reject) {
        const xhr = new XMLHttpRequest();

        xhr.onload = function() {
          if (parseJson) {
            try {
              resolve(JSON.parse(this.responseText));
            } catch (e) {
              reject(e);
            }
          } else {
            resolve(this.responseText);
          }
        };

        xhr.onerror = function() {
          reject(new Error("Something is off son..."));
        };

        xhr.open("get", url);
        xhr.send();
      });
    }

    promiseAjax("_js/someitems_HC.json", true)

      .then(function(jsonString) {
        const something = jsonString
        
          

        Highcharts.chart("chart1", {
            chart: {
               type: 'bar'
           },            
          title: {
            text: "Solar Employment Growth by Sector, 2010-2016"
          },

          subtitle: {
            text: "Source: thesolarfoundation.com"
          },

          yAxis: {
            title: {
              text: "Number of Employees"
            }
          },
          legend: {
            layout: "vertical",
            align: "right",
            verticalAlign: "middle"
          },

          plotOptions: {
            series: {
              label: {
                //connectorAllowed: false
              },
              //pointStart: 2010
            }
          },

          series:something



        });

        console.log(something);
      })
      .catch(function(err) {
        console.error(err);
      });
  </script>
</html>
